\usetikzlibrary{positioning}
\usetikzlibrary{arrows}
\usetikzlibrary{patterns}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{calc}
\usetikzlibrary{decorations}
\usetikzlibrary{decorations.pathmorphing}


\makeatletter

% gluon decoration (based on the original coil decoration)
\pgfdeclaredecoration{coilgluon}{coil}
{
  \state{coil}[switch if less than=%
    0.5\pgfdecorationsegmentlength+%>
    \pgfdecorationsegmentaspect\pgfdecorationsegmentamplitude+%
    \pgfdecorationsegmentaspect\pgfdecorationsegmentamplitude to last,
    width=+\pgfdecorationsegmentlength]
        {
          \pgfpathcurveto
              {\pgfpoint@oncoil{0    }{ 0.555}{1}}
              {\pgfpoint@oncoil{0.445}{ 1    }{2}}
              {\pgfpoint@oncoil{1    }{ 1    }{3}}
              \pgfpathcurveto
                  {\pgfpoint@oncoil{1.555}{ 1    }{4}}
                  {\pgfpoint@oncoil{2    }{ 0.555}{5}}
                  {\pgfpoint@oncoil{2    }{ 0    }{6}}
                  \pgfpathcurveto
                      {\pgfpoint@oncoil{2    }{-0.555}{7}}
                      {\pgfpoint@oncoil{1.555}{-1    }{8}}
                      {\pgfpoint@oncoil{1    }{-1    }{9}}
                      \pgfpathcurveto
                          {\pgfpoint@oncoil{0.445}{-1    }{10}}
                          {\pgfpoint@oncoil{0    }{-0.555}{11}}
                          {\pgfpoint@oncoil{0    }{ 0    }{12}}
        }
        \state{last}[next state=final]
              {
                \pgfpathcurveto
                    {\pgfpoint@oncoil{0    }{ 0.555}{1}}
                    {\pgfpoint@oncoil{0.445}{ 1    }{2}}
                    {\pgfpoint@oncoil{1    }{ 1    }{3}}
                    \pgfpathcurveto
                        {\pgfpoint@oncoil{1.555}{ 1    }{4}}
                        {\pgfpoint@oncoil{2    }{ 0.555}{5}}
                        {\pgfpoint@oncoil{2    }{ 0    }{6}}
              }
              \state{final}{}
}

\def\pgfpoint@oncoil#1#2#3{%
  \pgf@x=#1\pgfdecorationsegmentamplitude%
  \pgf@x=\pgfdecorationsegmentaspect\pgf@x%
  \pgf@y=#2\pgfdecorationsegmentamplitude%
  \pgf@xa=0.083333333333\pgfdecorationsegmentlength%
  \advance\pgf@x by#3\pgf@xa%
}

\makeatother

\tikzset{
  proton/.style={line width=1pt,preaction={preaction={draw,line width=5pt},draw,white,line width=3pt}},
  photon/.style={decorate, decoration={snake}, draw=black},
  higgs/.style={draw, dashed},
  fermion/.style={draw=black, postaction={decorate},decoration={markings}},
  gluon/.style ={decorate, decoration={coilgluon,amplitude=4pt, segment length=5pt}},
  gluino/.style={decorate, decoration={coilgluon,amplitude=4pt, segment length=5pt}, preaction={draw}},
  vertex/.style={draw,shape=circle,fill=black,minimum size=0pt,inner sep=0pt},
}

%% \semiloop[fermion][<draw options>]{<first node>}{<second node>}{<angle>}[<label>][<below, default: above>];
%% \NewDocumentCommand\semiloop{O{black}mmmO{}O{above}}
%% {%
%%   \draw[#1] let \p1 = ($(#3)-(#2)$) in (#3) arc (#4:({#4+180}):({0.5*veclen(\x1,\y1)})node[midway, #6] {#5};)
%% }

\colorlet{red}{red!60}
\colorlet{blue}{blue!60}
\colorlet{green}{green!60}
\colorlet{blue}{blue!50!black!70}
\colorlet{green}{green!50!black!70}
\colorlet{purple}{purple!90!black!70}
\colorlet{gray1}{black!10}

\tikzset{
    arr/.style={line width=1,
      decoration={markings,mark=at position 1 with {\arrow[scale=1.5]{>}}},
      postaction={decorate}
      },
    rec/.style={rectangle,
                fill, black,
                fill=gray1,
                very thick,
                text width=2.7cm,
                minimum height=1.5cm,
                text centered}
}
